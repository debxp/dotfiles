# 
# ~/.config/i3/config
# version: 2019-04-29
# 

# init #

set $mod Mod4

set $sup        bindsym Mod4

set $exe        exec --no-startup-id
set $exe_always exec_always --no-startup-id

set $bin_path   ~/.local/bin

set $ukey Up
set $dkey Down
set $lkey Left
set $rkey Right


# session control #

$sup+Shift+c   reload
$sup+Shift+r   restart

$sup+Shift+F12 $exe $bin_path/rofi-i3logout


# terminal #

$sup+Return $exe i3-sensible-terminal

# focus #

focus_follows_mouse no

$sup+$lkey focus left
$sup+$dkey focus down
$sup+$ukey focus up
$sup+$rkey focus right


# layout switching #

$sup+slash     layout toggle splitv splith
$sup+F11       fullscreen toggle


# floating #

floating_modifier Mod1

$sup+period    floating toggle
$sup+semicolon focus mode_toggle


# moving #

$sup+Shift+$lkey move left
$sup+Shift+$dkey move down
$sup+Shift+$ukey move up
$sup+Shift+$rkey move right


# resizing #

$sup+Control $rkey resize grow   width  2 px or 2 ppt
$sup+Control $lkey resize shrink width  2 px or 2 ppt
$sup+Control $ukey resize grow   height 2 px or 2 ppt
$sup+Control $dkey resize shrink height 2 px or 2 ppt


# icons #

# editor       
# menu         
# document     
# table        
# code         
# chat         
# news         
# monitor      
# firefox      
# chrome       
# terminal     
# window       
# github       
# whatsapp     
# telegram     
# hangout      
# bank         
# 
# no preview...
# 
# volume
# play
# music
# video
# email

set $ico_editor     <span font='Font Awesome'>&#xf044;</span>
set $ico_menu       <span font='Font Awesome'>&#xf0c9;</span>
set $ico_document   <span font='Font Awesome'>&#xf0f6;</span>
set $ico_table      <span font='Font Awesome'>&#xf0ce;</span>
set $ico_code       <span font='Font Awesome'>&#xf121;</span>
set $ico_chat       <span font='Font Awesome'>&#xf27b;</span>
set $ico_news       <span font='Font Awesome'>&#xf09e;</span>
set $ico_monitor    <span font='Font Awesome'>&#xf26c;</span>
set $ico_firefox    <span font='Font Awesome'>&#xf269;</span>
set $ico_chrome     <span font='Font Awesome'>&#xf268;</span>
set $ico_terminal   <span font='Font Awesome'>&#xf120;</span>
set $ico_window     <span font='Font Awesome'>&#xf2d0;</span>
set $ico_volume     <span font='Font Awesome'>&#xf028;</span>
set $ico_play       <span font='Font Awesome'>&#xf01d;</span>
set $ico_music      <span font='Font Awesome'>&#xf001;</span>
set $ico_video      <span font='Font Awesome'>&#xf008;</span>
set $ico_email      <span font='Font Awesome'>&#xf003;</span>
set $ico_github     <span font='Font Awesome'>&#xf09b;</span>
set $ico_whatsapp   <span font='Font Awesome'>&#xf232;</span>
set $ico_telegram   <span font='Font Awesome'>&#xf1d9;</span>
set $ico_hangouts   <span font='Font Awesome'>&#xf10e;</span>
set $ico_bank       <span font='Font Awesome'>&#xf155;</span>


# workspace labels #

set $ws1  "1: "
set $ws2  "2: "
set $ws3  "3: "
set $ws4  "4: "
set $ws5  "5: <span font='Font Awesome'>&#xf001;</span>"
set $ws6  "6: <span font='Font Awesome'>&#xf008;</span>"
set $ws7  "7: <span font='Font Awesome'>&#xf01d;</span>"
set $ws8  "8: "
set $ws9  "9: <span font='Font Awesome'>&#xf003;</span>"
set $ws10 "10: "


# workspace switching #

workspace_auto_back_and_forth yes

$sup+1 workspace $ws1
$sup+2 workspace $ws2
$sup+3 workspace $ws3
$sup+4 workspace $ws4
$sup+5 workspace $ws5
$sup+6 workspace $ws6
$sup+7 workspace $ws7
$sup+8 workspace $ws8
$sup+9 workspace $ws9
$sup+0 workspace $ws10


# moving to workspace #

$sup+Shift+1 move container to workspace $ws1
$sup+Shift+2 move container to workspace $ws2
$sup+Shift+3 move container to workspace $ws3
$sup+Shift+4 move container to workspace $ws4
$sup+Shift+5 move container to workspace $ws5
$sup+Shift+6 move container to workspace $ws6
$sup+Shift+7 move container to workspace $ws7
$sup+Shift+8 move container to workspace $ws8
$sup+Shift+9 move container to workspace $ws9
$sup+Shift+0 move container to workspace $ws10


# workspace output #

# monitor output #

set $out_vga  output VGA-1
set $out_hdmi output HDMI-1
set $out_note output LVDS-1

workspace $ws1  $out_hdmi
workspace $ws2  $out_hdmi
workspace $ws3  $out_hdmi
workspace $ws4  $out_hdmi
workspace $ws5  $out_hdmi
workspace $ws6  $out_hdmi
workspace $ws7  $out_hdmi
workspace $ws8  $out_hdmi
workspace $ws9  $out_hdmi
workspace $ws10 $out_vga


# workspace cycling #

bindsym Ctrl+Mod1+Right workspace next
bindsym Ctrl+Mod1+Left  workspace prev


# urgent workspace #

$sup+u [urgent=latest] focus


# chrome apps instances #

set $spotify_instance [instance="crx_pjibgclleladliembfgfagdaldikeohf"]
set $cef_instance     [instance="crx_bpokmjnfjkoanfojhmgocofpjljaehfb"]
set $drumbit_instance [instance="crx_emkaemcghilafekbnjdpienhfkmhbjfn"]
set $auralis_instance [instance="crx_kfldlpicolfknfifcpiipbgklinnenne"]
set $scales_instance  [instance="crx_kgmlapedajmlebhhipilgaphlhklkjlk"]


# windows #

$sup+Shift+q kill

default_border normal 1
$sup+b border toggle

for_window [class="^.*"]             title_format "  $ico_window  %title"
for_window [class="Thunderbird"]     title_format "  $ico_email  %title"
for_window [class="Firefox"]         title_format "  $ico_firefox  %title"
for_window [class="Geany"]           title_format "  $ico_editor  %title"
for_window [class="Xfce4-terminal"]  title_format "  $ico_terminal  %title"
for_window [title="GitHub Desktop"]  title_format "  $ico_github  %title"   floating enable
for_window [class="Whatsie"]         title_format "  $ico_whatsapp  %title" floating enable
for_window [class="TelegramDesktop"] title_format "  $ico_telegram  %title" floating enable
for_window [class="yakyak"]          title_format "  $ico_hangouts  %title" floating enable
for_window $cef_instance             title_format "  $ico_bank  %title"     floating enable
for_window $drumbit_instance         title_format "  $ico_music  %title"    floating enable
for_window $auralis_instance         title_format "  $ico_music  %title"    floating enable
for_window $scales_instance          title_format "  $ico_music  %title"    floating enable

for_window [class="Lxappearance"]    floating enable
for_window [class="Nitrogen"]        floating enable

# workspace assignments #

assign [class="Geany"]           $ws3
assign $drumbit_instance         $ws5
assign $auralis_instance         $ws5
assign $scales_instance          $ws5
assign $spotify_instance         $ws7
assign [class="Poddr"]           $ws7
assign [class="Whatsie"]         $ws8
assign [class="TelegramDesktop"] $ws8
assign [class="yakyak"]          $ws8
assign [class="Thunderbird"]     $ws9


# appearance #

font pango:Open Sans Semibold 10

set $darker   #080910
set $dark     #181920
set $black    #2C323E
set $darkgray #3B4252
set $gray     #9899a0
set $white    #E5E9F0
set $red      #BF616A
set $orange   #DBAB6B
set $yellow   #EBCB8B
set $green    #A3BE8C
set $cyan     #88C0D0
set $blue     #81A1C1
set $purple   #B48EAD

# class                 border     backgr     text      indicator   client_border
client.focused          $blue      $blue      $darker   $orange     $blue
client.unfocused        $dark      $dark      $gray     $orange
client.focused_inactive $dark      $dark      $gray     $orange
client.urgent           $dark      $red       $dark     $orange


# status bar #

bar {
    $out_hdmi
    position bottom
    tray_padding 5
    
    status_command i3blocks
    
    # bar font
    font pango:Open Sans Semibold 10
    
    colors {
        statusline    $white
        background    $dark
    
        #                   border     backgr    text
        focused_workspace   $blue      $blue     $darker
        active_workspace    $dark      $dark     $darkgray
        inactive_workspace  $dark      $dark     $darkgray
        urgent_workspace    $red       $red      $darker
    }
}


# menus #

$sup+space $exe $bin_path/rofi-launcher
$sup+w     $exe $bin_path/rofi-websearch
$sup+p     $exe $bin_path/rofi-places
$sup+r     $exe rofi -show run


# screenshots #

bindsym Print $exe xfce4-screenshooter


# volume control and status #

bindsym XF86AudioRaiseVolume $exe pactl set-sink-volume 1 +5% && pkill -SIGRTMIN+10 i3blocks
bindsym XF86AudioLowerVolume $exe pactl set-sink-volume 1 -5% && pkill -SIGRTMIN+10 i3blocks
bindsym XF86AudioMute        $exe pactl set-sink-mute 1 toggle && pkill -SIGRTMIN+10 i3blocks


# keylock status #

bindsym --release Caps_Lock $exe pkill -SIGRTMIN+11 i3blocks
bindsym --release Num_Lock  $exe pkill -SIGRTMIN+11 i3blocks


# launchers #

# ssgen - script generator/opener
$sup+F5 $exe $bin_path/ssgen-dmenu

# testes...
$sup+x $exe $bin_path/teste-dwinmenu


# session startup #

$exe ~/.screenlayout/i3-default.sh
$exe_always compton -cCGfz -o 0.3 -O 0.025 -I 0.025 -t -5 -l -5 -r 4 -D 2 --shadow-exclude "class_g = 'Firefox' && argb" -b --backend glx --vsync opengl-swc
$exe nitrogen --restore
$exe xfce4-power-manager
$exe /usr/lib/policykit-1-gnome/polkit-gnome-authentication-agent-1
$exe nm-applet
$exe thunderbird

